(this["webpackJsonphand-on-app"]=this["webpackJsonphand-on-app"]||[]).push([[0],{14:function(e,n,t){e.exports=t.p+"static/media/noti_out.68be52cc.mp3"},16:function(e,n,t){e.exports=t(32)},21:function(e,n,t){},28:function(e,n){},29:function(e,n){},30:function(e,n){},31:function(e,n,t){},32:function(e,n,t){"use strict";t.r(n);var a=t(1),r=t.n(a),o=t(10),c=t.n(o),i=(t(21),t(2)),s=t.n(i),u=t(4),l=t(15),d=t(11),f=t(12),m=t(13),p=t(6),h=(t(31),t(14)),v=t.n(h),b=new d.Howl({src:[v.a]});var g=function(){var e=Object(a.useRef)(),n=Object(a.useRef)(),t=Object(a.useRef)(),o=Object(a.useState)(!1),c=Object(l.a)(o,2),i=c[0],d=c[1],h=Object(a.useRef)(!0),v=function(){var e=Object(u.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("init"),e.next=3,g();case 3:return console.log("setup camera enter"),e.next=6,f.a();case 6:n.current=e.sent,t.current=m.a(),console.log("setup success"),console.log("Hand out and click train btn"),Object(p.a)({cooldown:3e3});case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),g=function(){return new Promise((function(n,t){navigator.getUserMedia=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia,navigator.getUserMedia?navigator.getUserMedia({video:!0},(function(t){e.current.srcObject=t,e.current.addEventListener("loadeddata",n)}),(function(e){return t(e)})):t()}))},w=function(){var e=Object(u.a)(s.a.mark((function e(n){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log(n+" learning from video"),t=0;case 2:if(!(t<50)){e.next=9;break}return console.log("Loading ".concat(parseInt((t+1)/50*100),"%")),e.next=6,k(n);case 6:t++,e.next=2;break;case 9:console.log("Training end");case 10:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),k=function(a){return new Promise(function(){var r=Object(u.a)(s.a.mark((function r(o){var c;return s.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c=n.current.infer(e.current,!0),t.current.addExample(c,a),r.next=4,O(100);case 4:o();case 5:case"end":return r.stop()}}),r)})));return function(e){return r.apply(this,arguments)}}())},y=function(){var a=Object(u.a)(s.a.mark((function a(){var r,o;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r=n.current.infer(e.current,!0),a.next=4,t.current.predictClass(r);case 4:return"hand on"===(o=a.sent).label&&o.confidences[o.label]>.89?(console.log("Hand on"),1==h.current&&(h.current=!1,b.play()),Object(p.b)("Let your hand out of face immediately",{body:"Hey, do you know that keyboard contains lots of bacteria and virus, even dirtier than toilet. There is COVID around the world. Keep healthy for yourself and family"}),d(!0)):(console.log("Hand out"),d(!1)),a.next=8,O(200);case 8:y(),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),alert("Data has not been entered through image hand training");case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(){return a.apply(this,arguments)}}(),O=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return new Promise((function(n){setTimeout(n,e)}))};return Object(a.useEffect)((function(){return v(),console.log("it runs"),b.on("end",(function(){h.current=!0})),function(){}}),[]),r.a.createElement("div",{className:"main ".concat(i?"handon":" ")},r.a.createElement("h1",null,"HELLO TO MY APP"),r.a.createElement("video",{ref:e,className:"video",autoPlay:!0}),r.a.createElement("div",{className:"control"},r.a.createElement("button",{className:"btn",onClick:function(){w("hand on")}},"Train Hands on"),r.a.createElement("button",{className:"btn",onClick:function(){w("hand out")}},"Train Hands out"),r.a.createElement("button",{className:"btn",onClick:function(){y()}},"Start")))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[16,1,2]]]);
//# sourceMappingURL=main.342f7f54.chunk.js.map